#protocol icmp

The following operations can be performed on "protocol icmp":


##stat protocol icmp

Displays statistics of the ICMP protocol.


##Synopsys

stat protocol icmp [-detail] [-fullValues] [-ntimes &lt;positive_integer>] [-logFile &lt;input_filename>] [-clearstats ( basic | full )]


##Arguments

<b>detail</b>
Specifies detailed output (including more statistics). The output can be quite voluminous. Without this argument, the output will show only a summary.

<b>fullValues</b>
Specifies that numbers and strings should be displayed in their full form. Without this option, long strings are shortened and large numbers are abbreviated

<b>ntimes</b>
The number of times, in intervals of seven seconds, the statistics should be displayed.
Default value: 1
Minimum value: 0

<b>logFile</b>
The name of the log file to be used as input.

<b>clearstats</b>
Clear the statsistics / counters
Possible values: basic, full



##Outputs

<b>ICMP packets received (ICPktRx)</b>
ICMP packets received.

<b>ICMP bytes received (ICbRx)</b>
Bytes of ICMP data received.

<b>ICMP packets transmitted (ICPktTx)</b>
ICMP packets transmitted.

<b>ICMP bytes transmitted (ICbTx)</b>
Bytes of ICMP data transmitted.

<b>ICMP echo replies received (ECORepRx)</b>
ICMP Ping echo replies received.

<b>ICMP echo replies transmitted (ECORepTx)</b>
ICMP Ping echo replies transmitted.

<b>ICMP echos received (ECORx)</b>
ICMP Ping Echo Request and Echo Reply packets received.

<b>MTU lookup on dst ip info recvd (MTULkDst)</b>
Total number of MTU lookup on destination IP info received on a need fragmentation ICMP error message failed.

<b>ICMP rate threshold (pkts/sec) (ICThs)</b>
Limit for ICMP packets handled every 10 milliseconds. Default value, 0, applies no limit.
This is a configurable value using the set rateControl command.

<b>ICMP port unreachable received (PortUnRx)</b>
ICMP Port Unreachable error messages received. This error is generated when there is no service is running on the port.

<b>ICMP port unreachable generated (PortUnTx)</b>
ICMP Port Unreachable error messages generated. This error is generated when there is no service is running on the port.

<b>Need fragmentation received (NeedFrag)</b>
ICMP Fragmentation Needed error messages received for packets that need to be fragmented but for which Don't Fragment is specified the header.

<b>ICMP rate threshold exceeded (ICRtEx)</b>
Times the ICMP rate threshold is exceeded. If this counter continuously increases, first make sure the ICMP packets received are genuine. If they are, increase the current rate threshold.

<b>ICMP packets dropped (ICPktDr)</b>
ICMP packets dropped because the rate threshold has been exceeded.

<b>Bad ICMP checksum (BadCkSum)</b>
ICMP Fragmentation Needed error messages received with an ICMP checksum error.

<b>PMTU non-first IP fragments (PMTUerr)</b>
ICMP Fragmentation Needed error messages received that were generated by an IP fragment other than the first one.

<b>PMTU Invalid body len received (IvBdyLen)</b>
ICMP Fragmentation Needed error messages received that specified an invalid body length.

<b>PMTU no tcp connection (NoTcpCon)</b>
ICMP Need Fragmentation error messages received for TCP packets. The state of the connection for these packets is not maintained on the NetScaler.

<b>PMTU no udp conection (NoUdpCon)</b>
ICMP Need Fragmentation error messages received for UDP packets. The state of the connection for these packets is not maintained on the NetScaler.

<b>PMTU invalid tcp seqno recvd (InvSeqNo)</b>
ICMP Fragmentation Needed error messages received for packets that contain an invalid TCP address.

<b>Invalid next MTU value recvd (IvNxtMTU)</b>
ICMP Fragmentation Needed error messages received in which the Maximum Transmission Unit (MTU) for the next hop is out of range. The range for the MTU is 576-1500.

<b>Next MTU > Current MTU (BigNxMTU)</b>
ICMP Fragmentation Needed error messages received in which the value for the next MTU is higher than that of the current MTU.

<b>PMTU Invalid protocol recvd (IvPrtRx)</b>
ICMP Fragmentation Needed error messages received that contain a protocol other than TCP and UDP.

<b>PMTU IP check sum error (CkSumErr)</b>
ICMP Fragmentation Needed error messages received with an IP checksum error.

<b>PMTU pcb with no link (NoLnkErr)</b>
ICMP Fragmentation Needed error messages received on a Protocol Control Block (PCB) with no link. The PCB maintains the state of the connection.

<b>PMTU Discovery not enabled (PMTUdis)</b>
ICMP Need Fragmentation error messages received when the PMTU Discovery mode is not enabled.



##Related Commands

<ul><li><a href="../../../ml#stat-protoco/ml#stat-protoco">stat protocol tcp</a></li><li><a href="../../../tml#stat-protocol/tml#stat-protocol">stat protocol http</a></li><li><a href="../../../tml#stat-protocol/tml#stat-protocol">stat protocol ipv6</a></li><li><a href="../../../.html#stat-protocol-i/.html#stat-protocol-i">stat protocol icmpv6</a></li><li><a href="../../../ml#stat-protoco/ml#stat-protoco">stat protocol udp</a></li></ul>



